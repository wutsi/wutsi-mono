<!DOCTYPE HTML>
<html th:lang="${page.language}" xmlns:th="https://www.thymeleaf.org">
<head>
    <div th:replace="~{components/layout :: head}"></div>
</head>

<body>

<div th:replace="~{components/layout :: navbar-blog(${user}, null)}"></div>

<div class="container margin-top">
    <div class="row">
        <div class="col-12">
            <div class="container border main-content product-list">
                <!-- Title -->
                <div class="padding">
                    <h1 class="margin-none" th:text="#{page.store.products.header1}">My Store</h1>
                </div>

                <!-- Toolbar -->
                <div class="padding">
                    <a class="btn btn-primary" href="/me/store/products/create" th:text="#{button.create_product}">
                        Create Product
                    </a>
                    <a class="btn btn-light" href="/me/store/discounts" id="btn-manage-discount"
                       th:if="${toggles.storeSavings}"
                       th:text="#{button.manage_discounts}">Manage Discounts</a>
                </div>

                <!-- KPIs -->
                <div class="row padding border-top">
                    <div class="container">
                        <div class="row">
                            <div class="col-6 col-md-3 offset-md-3">
                                <div class="text-center padding border border-rounded box-filled-white">
                                    <div class="text-small" th:text="#{label.sales}">ORDERS</div>
                                    <div class="highlight text-larger">
                                        &nbsp;<b th:text="${store.orderCountText}">0</b>
                                    </div>
                                </div>
                            </div>
                            <div class="col-6 col-md-3">
                                <div class="text-center padding border border-rounded box-filled-white">
                                    <div class="text-small" th:text="#{label.revenus}">Revenus</div>
                                    <div class="highlight text-larger">
                                        &nbsp;<b
                                        th:text="${store.totalSalesText} + ' ' + ${store.totalSales.currencySymbol}">0</b>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Products -->
                <div class="row padding-small border-top"
                     th:each="product : ${products}"
                     th:id="'product-' + ${product.id}"
                     th:if="${products}"
                >
                    <div th:replace="~{components/product :: listitem(${product})}"></div>
                </div>
                <div class="border jumbotron margin" th:if="!${products}">
                    <p th:utext="#{page.store.products.empty}">Your store is empty.</p>
                </div>
            </div>
        </div>
    </div>
</div>

<div th:replace="~{components/share :: popup}"></div>
<div th:replace="~{components/layout :: footer}"></div>
</body>

</html>
