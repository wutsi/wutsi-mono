<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<body>

<div class="follow-panel" th:fragment="panel(blog,returnUrl)" th:if="!${user} OR ${user.canSubscribeTo(blog)}">
    <div th:replace="~{components/follow :: follow-button(${blog}, ${returnUrl}, true, false, true)}"></div>
</div>

<form class="form-follow" method="POST"
      th:action="'/@/' + ${blog.name} + '/subscribe?return-url=' + ${returnUrl}"
      th:fragment="follow-button(blog, returnUrl, primaryButton, bigButton, includeNameInCaption)"
      th:if="!${user} OR ${user.canSubscribeTo(blog)}"
>
    <button class="btn btn-follow"
            th:classappend="${(primaryButton ? 'btn-primary' : 'btn-light') + ' ' + (bigButton ? 'btn-block' : '')}"
            type="submit"
    >
        <span th:text="#{button.follow}">Follow</span>
        <span th:if="${includeNameInCaption}" th:text="' @' + ${blog.name}">@ray.sponsible</span>
    </button>
</form>

<form class="form-follow" method="POST" th:action="'/@/' + ${blog.name} + '/unsubscribe?return-url=' + ${returnUrl}"
      th:fragment="unfollow-button(blog, returnUrl)"
      th:if="${blog.blog} AND ${blog.subscribed}"
>
    <button class="btn btn-light btn-unfollow" type="submit">
        <span th:text="#{button.unfollow}">Unfollow</span>
    </button>
</form>


</body>
</html>
