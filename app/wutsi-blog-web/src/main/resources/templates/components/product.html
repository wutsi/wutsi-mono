<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<body>

<div class="product-widget" th:fragment="widget-order(product)" th:id="'product-widget-order-' + ${product.id}">
    <div class="product-badge flex">
        <div>
            <i class="fa-solid fa-bag-shopping"></i>
        </div>
        <div th:if="${product.orderCount} GT 0">
            &nbsp;
            <span class="order-count" th:text="${product.orderCountText}"></span>
        </div>
    </div>
</div>

<div class="product-widget" th:fragment="widget-view(product)" th:id="'product-widget-view-' + ${product.id}">
    <div class="product-badge flex">
        <div>
            <i class="fa-solid fa-chart-simple"></i>
        </div>
        <div th:if="${product.viewCount} GT 0">
            &nbsp;
            <span class="view-count" th:text="${product.viewCountText}"></span>
        </div>
    </div>
</div>

<div class="product flex" th:fragment="listitem(product)">
    <div class="img-container margin-right" th:if="${product.thumbnailUrl}">
        <img th:alt="#{label.sales}" th:src="${product.thumbnailUrl}" th:title="#{label.sales}"/>
    </div>
    <div>
        <div class="text-small">#<span th:text="${product.externalId}">1209309</span></div>
        <h3 class="title margin-none" th:text="${product.title}">Title</h3>
        <div class="highlight" th:text="${product.price}">1000</div>
        <div class="error" th:if="!${product.available}" th:text="#{label.not_available}">Not Available</div>
        <div class="flex margin-top">
            <div class="margin-left margin-right">
                <div th:replace="~{components/product :: widget-view(${product})}"></div>
            </div>
            <div class="margin-left margin-right">
                <div th:replace="~{components/product :: widget-order(${product})}"></div>
            </div>
        </div>
    </div>
</div>

<div class="flex product-attaches" th:fragment="attachment(product)">
    <div class="ext">
        <span th:class="${product.fileExtension}" th:text="${product.fileExtension}">TXT</span>
    </div>
    <div class="filesize margin-left" th:text="${product.fileContentLengthText}">150 Kb</div>
</div>

<div class="product-summary-card" th:fragment="product-summary-card(product, cta)">
    <div class="flex">
        <div class="img-container margin-bottom" th:if="${product.thumbnailUrl}">
            <a th:href="${product.slug}" th:title="${product.title}">
                <img th:alt="${product.title}" th:src="${product.thumbnailUrl}"/>
            </a>
        </div>
        <div class="margin-left-small">
            <a th:href="${product.slug}" th:title="${product.title}">
                <h2 class="title margin-none" th:text="${product.title}">This is a tile</h2>
                <div>
                    <span class="price" th:text="${product.offer.price}">1500</span>
                    <span class="price-strikethrough text-small" th:if="${product.offer.hasSavings}"
                          th:text="${product.offer.referencePrice}">1500</span>
                    <span class="price-savings" th:if="${product.offer.hasSavings}"
                          th:text="'(' + #{label.n_percent_off(${product.offer.savingPercentage})} + ')'">(60% off)</span>
                </div>
            </a>
            <a class="btn btn-primary margin-top-small" th:href="${product.slug}" th:if="${cta}"
               th:text="#{button.start_shopping}" th:title="${product.title}">
                Shop Now
            </a>
        </div>
    </div>
</div>

<div class="product-card" th:fragment="product-card(product)" th:id="'product-' + ${product.id}">
    <a th:alt="${product.title}" th:href="${product.url}">
        <div class="img-container margin-bottom" th:if="${product.thumbnailUrl}">
            <img th:alt="${product.title}" th:src="${product.thumbnailUrl}"/>
        </div>
        <div class="file-extension" th:classappend="'file-extension-' + ${product.fileExtension}"
             th:text="${product.fileExtension}">
            PDF
        </div>
        <h2 class="title margin-bottom" th:text="${product.title}">This is a tile</h2>
        <div class="padding-bottom">
            <span class="price" th:text="${product.offer.price}">1500</span>
            <span class="price-strikethrough text-small" th:if="${product.offer.hasSavings}"
                  th:text="${product.offer.referencePrice}">1500</span>
            <span class="price-savings" th:if="${product.offer.hasSavings}"
                  th:text="'(' + #{label.n_percent_off(${product.offer.savingPercentage})} + ')'">(60% off)</span>
        </div>
    </a>
</div>


<div class="border border-rounded margin-bottom-small box-filled-white padding"
     th:fragment="shop-panel(products, blog)"
>
    <h3 class="text-center" th:text="#{label.shop}">Shop</h3>
    <div th:each="product: ${products}">
        <div th:replace="~{components/product :: product-summary-card(${product}, false)}"></div>
    </div>
    <div class="text-center">
        <a class="btn btn-primary" th:href="${blog.shopUrl}" th:text="#{button.start_shopping}">
            Start Shopping
        </a>
    </div>
</div>

<div class="product-summary-ads padding" th:fragment="product-summary-ads(product)"
     th:id="'product-summary-ads-' + ${product.id}">
    <div class="text-right">
        <button aria-label="Close" class="btn-close btn-close-white" type="button"></button>
    </div>
    <div th:replace="~{components/product :: product-summary-card(${product}, true)}"></div>

    <script th:inline="javascript">
        $(document).ready(function () {
            const productId = /*[[${product.id}]]*/'0';
            $('#product-summary-ads-' + productId + ' .btn-close').click(function () {
                $('#product-summary-ads-' + productId).hide();
            });
        });
    </script>
</div>

<div th:fragment="discount-banner(blog, store, discount)">
    <div class="padding border border-rounded box-filled-highlight-light flex" id="discount-banner-subscribe"
         th:if="${store.subscriberDiscount > 0} AND (!${user} OR (${user.canSubscribeTo(blog)}) AND (!${discount} OR ${discount.percentage < store.subscriberDiscount}))">
        <div>
            <i class="fa-solid fa-sack-dollar fa-2x margin-top-small"></i>
        </div>
        <div class="margin-left">
            <div th:utext="#{page.shop.discount.subscribe(${store.subscriberDiscount})}">
                Login and get discounts up to 10%!
            </div>
            <div class="margin-top-small">
                <div
                    th:replace="~{components/follow :: follow-button(${blog}, ${blog.shopUrl}, true)}"></div>
            </div>
        </div>
    </div>
</div>


<div class="price-urgency" th:fragment="urgency(discount)"
     th:if="${discount} AND ${discount.expiryDate} AND ${discount.remainingDays >= 0}">
    <span th:utext="#{page.product.deal-urgency(${discount.expiryDateText})}">
        Expires in 3 days
    </span>
</div>

</body>
</html>
